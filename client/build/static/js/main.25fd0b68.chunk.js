(this.webpackJsonpboilerplate=this.webpackJsonpboilerplate||[]).push([[0],{22:function(e,t,a){},23:function(e,t,a){},33:function(e,t,a){},34:function(e,t,a){},37:function(e,t,a){},38:function(e,t,a){"use strict";a.r(t);var r=a(1),n=a.n(r),c=a(13),s=a.n(c),o=a(5),i=a(8),l=a(2),u=a.n(l),d=a(4),b=a(3),p=a(6),j=a.n(p);var m=a(0),h=n.a.createContext(),x="http://localhost:5000";function O(){return Object(r.useContext)(h)}var f=function(e){var t=e.children,a=function(e,t){var a=Object(r.useState)((function(){if("undefined"===typeof window)return t;try{var a=window.localStorage.getItem(e);return a?JSON.parse(a):t}catch(r){return console.error(r),t}})),n=Object(b.a)(a,2),c=n[0],s=n[1];return[c,function(t){try{var a=t instanceof Function?t(c):t;s(a),"undefined"!==typeof window&&window.localStorage.setItem(e,JSON.stringify(a))}catch(r){console.error(r)}}]}("token",""),n=Object(b.a)(a,2),c=n[0],s=n[1],i=Object(r.useState)(""),l=Object(b.a)(i,2),p=l[0],O=l[1],f=Object(o.f)(),y=function(){var e=Object(d.a)(u.a.mark((function e(){return u.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(j.a.isEmpty(c)){e.next=14;break}return e.prev=1,e.next=4,fetch("".concat(x,"/tokentest"),{method:"GET",headers:{Authorization:"Bearer ".concat(c)}});case 4:if(200===e.sent){e.next=9;break}throw s(""),f("/"),new Error("You are not logged in");case 9:e.next=14;break;case 11:e.prev=11,e.t0=e.catch(1),console.error(e.t0);case 14:case"end":return e.stop()}}),e,null,[[1,11]])})));return function(){return e.apply(this,arguments)}}(),w=function(){var e=Object(d.a)(u.a.mark((function e(){return u.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,v(c);case 3:e.next=7;break;case 5:e.prev=5,e.t0=e.catch(0);case 7:O(""),s("");case 9:case"end":return e.stop()}}),e,null,[[0,5]])})));return function(){return e.apply(this,arguments)}}();return Object(m.jsx)(h.Provider,{value:{token:c,setToken:s,user:p,setUser:O,logOut:w,checkToken:y},children:t})},v=function(){var e=Object(d.a)(u.a.mark((function e(t){var a,r;return u.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,fetch("".concat(x,"/logout"),{method:"DELETE",headers:{Authorization:"Bearer ".concat(t)}});case 3:if((a=e.sent).ok){e.next=9;break}return e.next=7,a.json();case 7:throw r=e.sent,new Error(r.message);case 9:e.next=15;break;case 11:throw e.prev=11,e.t0=e.catch(0),console.error(e.t0),new Error("Failed to sign out");case 15:case"end":return e.stop()}}),e,null,[[0,11]])})));return function(t){return e.apply(this,arguments)}}(),y=(a(33),function(e){var t=e.opacity,a=O(),r=a.token,n=a.logOut;return Object(m.jsx)("nav",{className:"navbar main-nav ".concat(t," navbar-expand-lg navbar-dark p-md-3"),children:Object(m.jsxs)("div",{className:"container",children:[Object(m.jsx)(i.b,{to:"/",className:"navbar-brand",children:Object(m.jsx)("div",{className:"box",children:Object(m.jsx)("h3",{className:"white text-center",children:"m"})})}),Object(m.jsx)("button",{className:"navbar-toggler",type:"button","data-bs-toggle":"collapse","data-bs-target":"#navbarNav","aria-controls":"navbarNav","aria-expanded":"false","aria-label":"Toggle navigation",children:Object(m.jsx)("span",{className:"navbar-toggler-icon"})}),Object(m.jsxs)("div",{className:"collapse navbar-collapse",id:"navbarNav",children:[Object(m.jsx)("div",{className:"mx-auto"}),Object(m.jsxs)("ul",{className:"navbar-nav",children:[!j.a.isEmpty(r)&&Object(m.jsx)("li",{className:"nav-item me-0",children:Object(m.jsx)(i.b,{to:"/dashboard",children:Object(m.jsx)("button",{className:"btn btn-outline-light",children:"Dashboard"})})}),Object(m.jsx)("li",{className:"nav-item",children:Object(m.jsx)(i.b,{to:"/about",children:Object(m.jsx)("button",{className:"btn btn-outline-light",children:"About"})})}),j.a.isEmpty(r)?Object(m.jsx)("li",{className:"nav-item",children:Object(m.jsx)(i.b,{to:"/Login",children:Object(m.jsx)("button",{className:"btn btn-outline-light",children:"Log In"})})}):Object(m.jsx)("li",{className:"nav-item",children:Object(m.jsx)(i.b,{to:"/",children:Object(m.jsx)("button",{className:"btn btn-outline-light",onClick:n,children:"Log Out"})})}),j.a.isEmpty(r)&&Object(m.jsx)("li",{className:"nav-item",children:Object(m.jsx)(i.b,{to:"/Signup",children:Object(m.jsx)("button",{className:"btn btn-outline-light",children:"Sign Up"})})})]})]})]})})}),w=(a(34),function(){return Object(m.jsx)("div",{className:"container-fluid position-relative bottom-0 end-0 bg-none my-4 text-center",children:Object(m.jsxs)("div",{className:"justify-between",children:[Object(m.jsx)("span",{className:"mx-3",children:"\xa92023 Ben Dibuz"}),Object(m.jsx)("span",{className:"mx-3",children:"ben.dibuz@gmail.com"})]})})}),g=(a(22),a(23),function(){var e=O(),t=e.checkToken,a=e.token;return Object(r.useEffect)((function(){t()}),[]),Object(m.jsxs)(r.Fragment,{children:[Object(m.jsxs)("div",{className:"container-fluid background position-sticky",children:[Object(m.jsx)(y,{opacity:"opacity-50"}),Object(m.jsx)("div",{className:"container-fluid d-flex align-items-center hero position-fixed",children:Object(m.jsxs)("div",{className:"container titlebox",children:[Object(m.jsx)("h1",{className:"title",children:"margerin"}),Object(m.jsx)("h1",{className:"white display-6",children:"Take the guesswork out of product costing"}),j.a.isEmpty(a)?Object(m.jsxs)("div",{className:"",children:[Object(m.jsx)("span",{className:"m-12 p-6 inline",children:Object(m.jsx)(i.b,{to:"signup",className:"btn btn-lg btn-outline-light mt-2",children:"Sign Up"})}),Object(m.jsx)("span",{className:"m-6 inline w-25",children:Object(m.jsx)(i.b,{to:"login",className:"btn btn-lg btn-outline-light mt-2 mx-3",children:"Login"})})]}):Object(m.jsx)("div",{className:"",children:Object(m.jsx)("div",{className:"m-6 p-6",children:Object(m.jsx)(i.b,{to:"dashboard",className:"btn btn-lg btn-outline-light mt-2",children:"Dashboard"})})})]})})]}),Object(m.jsxs)("div",{className:"container content",children:[Object(m.jsx)("h2",{children:"Lightweight and Affordable Tool for Small Businesses"}),Object(m.jsxs)("p",{children:[Object(m.jsx)("br",{}),"Margerin is a featherweight ERP platform designed to track the cost of materials from your various suppliers over time. With predictive analytics, you can have a clearer idea of how much your products cost to make, and what your real profit margins are."]}),Object(m.jsxs)("div",{className:"row shadow rounded-3 my-5 bg-white",children:[Object(m.jsxs)("div",{className:"col-3 bg-white text-center p-3",children:[Object(m.jsx)("i",{className:"bi bi-clipboard-data big-icon"}),Object(m.jsx)("p",{className:"text-center",children:"Record material cost data"})]}),Object(m.jsx)("div",{className:"col-9 my-auto p-4",children:Object(m.jsx)("p",{children:"As you record material purchase transaction data, Margerin shows you the effects of changing costs from your suppliers over time on your profit margins."})})]}),Object(m.jsxs)("div",{className:"row shadow rounded my-5 bg-white",children:[Object(m.jsxs)("div",{className:"col-3 bg-white text-center p-3",children:[Object(m.jsx)("i",{className:"bi bi-calculator big-icon"}),Object(m.jsx)("p",{className:"text-center",children:"Automatically calculate cost of goods sold"})]}),Object(m.jsx)("div",{className:"col-9 my-auto p-4",children:Object(m.jsx)("p",{children:"Margerin aggregates previous transactions and gives you the best estimate of current real cost to produce a product or assembly."})})]}),Object(m.jsxs)("div",{className:"row shadow rounded my-5 bg-white",children:[Object(m.jsxs)("div",{className:"col-3 bg-white text-center p-3",children:[Object(m.jsx)("i",{className:"bi bi-cash-coin big-icon"}),Object(m.jsx)("p",{className:"text-center",children:"Set prices with confidence"})]}),Object(m.jsx)("div",{className:"col-9 my-auto p-4",children:Object(m.jsx)("p",{children:"Margerin helps you determine where your costs should be to maintain profitability and set smart prices for different sales channels."})})]}),Object(m.jsx)(w,{})]})]})});var N=function(){return Object(m.jsxs)(r.Fragment,{children:[Object(m.jsx)(y,{opacity:"nav-opaque"}),Object(m.jsx)("div",{className:"container-xxl mb-5",children:Object(m.jsxs)("div",{className:"row shadow rounded-3 bg-white p-5 justify-content-center",children:[Object(m.jsx)("h1",{children:"About"}),Object(m.jsx)("p",{children:"The purpose of Margerin is to provide a better understanding of your production costs. It uses data from your past transactions to provide an accurate and up-to-date average product cost, and based on your pricing, the profit per product."}),Object(m.jsx)("p",{children:"Margerin is built on a model of products, materials, recipes, transactions, and suppliers. For non-food projects, this can also be understood as assemblies, materials, BOMs, transaction, and suppliers."}),Object(m.jsx)("p",{children:"Transaction data is aggregated over a recent timeframe to build the product recipe cost. Because one recipe often makes multiple products, a yield per recipe field is included that acts as the divisor for the total cost."}),Object(m.jsx)("p",{children:"The dashboard allows in-context editing of products, while the material manager tabs allow you to quickly create/edit/delete resources such as materials, transactions, and suppliers."})]})})]})},k=function(){return Object(m.jsxs)(r.Fragment,{children:[Object(m.jsx)(y,{opacity:"nav-opaque"}),Object(m.jsx)("div",{className:"container",children:Object(m.jsx)("div",{className:"app-space",children:Object(m.jsx)("h1",{children:"Contact"})})})]})},S=a(19),E=n.a.createContext();function T(){return Object(r.useContext)(E)}var D=function(e){var t=e.children,a=Object(r.useState)([]),n=Object(b.a)(a,2),c=n[0],s=n[1];return Object(r.useEffect)((function(){var e=setInterval((function(){c&&!j.a.isEmpty(c)&&s((function(e){var t=Object(S.a)(e);return t.shift(),t}))}),2e3);return function(){clearInterval(e)}}),[c]),Object(m.jsx)(E.Provider,{value:{toasts:c,addToast:function(e){s((function(t){return[].concat(Object(S.a)(t),[e])}))}},children:t})},_=function(){var e=T().addToast,t=Object(r.useState)(""),a=Object(b.a)(t,2),n=a[0],c=a[1],s=Object(r.useState)(""),l=Object(b.a)(s,2),p=l[0],j=l[1],h=O(),x=h.setToken,f=h.setUser,v=function(){var t=Object(d.a)(u.a.mark((function t(a){var r,n,s;return u.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.prev=0,t.next=3,fetch("".concat("http://localhost:5000","/login"),{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify(a)});case 3:if((r=t.sent).ok){t.next=9;break}return t.next=7,r.json();case 7:throw n=t.sent,new Error(n);case 9:return t.next=11,r.json();case 11:s=t.sent,x(s.accessToken),f(s.user),c(""),j(""),e({title:" Success",type:"Success",body:"Login successful"}),t.next=22;break;case 18:t.prev=18,t.t0=t.catch(0),console.error("Custom error",t.t0),e({title:" Database Error",type:"Error",body:t.t0.message});case 22:case"end":return t.stop()}}),t,null,[[0,18]])})));return function(e){return t.apply(this,arguments)}}(),w=function(){var e=Object(d.a)(u.a.mark((function e(t){var a;return u.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,t.preventDefault(),a={email:n,password:p},e.next=5,v(a);case 5:return e.abrupt("return",!0);case 8:throw e.prev=8,e.t0=e.catch(0),new Error("login failure");case 11:case"end":return e.stop()}}),e,null,[[0,8]])})));return function(t){return e.apply(this,arguments)}}(),g=Object(o.f)();return Object(m.jsxs)(r.Fragment,{children:[Object(m.jsx)(y,{opacity:"nav-opaque"}),Object(m.jsx)("div",{className:"container-xxl mb-5",children:Object(m.jsx)("div",{className:"row shadow rounded-3 bg-white p-5 justify-content-center",children:Object(m.jsxs)("div",{className:"col-lg-6 col-md-8 col-sm-10 col-12",children:[Object(m.jsx)("h1",{children:"Log In"}),Object(m.jsxs)("form",{action:"",onSubmit:function(e){w(e),g("/dashboard")},children:[Object(m.jsxs)("div",{className:"mb-3",children:[Object(m.jsx)("label",{htmlFor:"email",className:"form-label",children:"Email address"}),Object(m.jsx)("input",{type:"email",className:"form-control",id:"email","aria-describedby":"emailHelp",value:n,onChange:function(e){return c(e.target.value)}}),Object(m.jsx)("div",{id:"emailHelp",className:"form-text",children:"We'll never share your email with anyone else."})]}),Object(m.jsxs)("div",{className:"mb-3",children:[Object(m.jsx)("label",{htmlFor:"password",className:"form-label",children:"Password"}),Object(m.jsx)("input",{type:"password",className:"form-control",id:"password",value:p,onChange:function(e){return j(e.target.value)}})]}),Object(m.jsxs)("div",{className:"d-grid gap-2 d-md-flex justify-content-center",children:[Object(m.jsx)("button",{className:"btn btn-primary",children:"Log In"}),Object(m.jsx)(i.b,{to:"/Signup",children:Object(m.jsx)("button",{className:"btn btn-outline-primary",children:"Sign Up"})})]})]})]})})})]})};var C=function(){var e=T().addToast,t=Object(r.useState)(""),a=Object(b.a)(t,2),n=a[0],c=a[1],s=Object(r.useState)(""),l=Object(b.a)(s,2),p=l[0],j=l[1],h=Object(r.useState)(""),x=Object(b.a)(h,2),f=x[0],v=x[1],w=Object(r.useState)(""),g=Object(b.a)(w,2),N=g[0],k=g[1],S=O().setToken,E=Object(o.f)(),D=function(){var t=Object(d.a)(u.a.mark((function t(a){var r,n,s;return u.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.prev=0,t.next=3,fetch("".concat("http://localhost:5000","/register"),{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify(a)});case 3:if((r=t.sent).ok){t.next=9;break}return t.next=7,r.json();case 7:throw n=t.sent,new Error(n);case 9:return j(""),c(""),v(""),k(""),e({title:" Success",type:"Success",body:"Registration successful"}),t.next=13,r.json();case 13:s=t.sent,S(s.token),E("/dashboard"),t.next=22;break;case 18:throw t.prev=18,t.t0=t.catch(0),console.error(t.t0.message),new Error(t.t0.message);case 22:case"end":return t.stop()}}),t,null,[[0,18]])})));return function(e){return t.apply(this,arguments)}}(),_=function(){var t=Object(d.a)(u.a.mark((function t(a){var r;return u.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(t.prev=0,a.preventDefault(),f!==N){t.next=8;break}return r={username:n,email:p,password:f},t.next=6,D(r);case 6:t.next=9;break;case 8:throw new Error("Password and confirmation did not match!");case 9:t.next=14;break;case 11:t.prev=11,t.t0=t.catch(0),e({title:" Registration Error",type:"Error",body:t.t0.message});case 14:case"end":return t.stop()}}),t,null,[[0,11]])})));return function(e){return t.apply(this,arguments)}}();return Object(m.jsxs)(r.Fragment,{children:[Object(m.jsx)(y,{opacity:"nav-opaque"}),Object(m.jsx)("div",{className:"modal fade ",id:"strongpassword",tabindex:"-1",children:Object(m.jsx)("div",{className:"modal-dialog modal-dialog-centered",children:Object(m.jsxs)("div",{className:"modal-content",children:[Object(m.jsxs)("div",{className:"modal-header",children:[Object(m.jsx)("h5",{className:"modal-title",children:"Password Requirements"}),Object(m.jsx)("button",{type:"button",className:"btn-close","data-bs-dismiss":"modal","aria-label":"Close"})]}),Object(m.jsx)("div",{className:"modal-body",children:Object(m.jsxs)("ul",{children:[Object(m.jsx)("li",{children:"8+ Characters"}),Object(m.jsx)("li",{children:'Don\'t use something easy to guess like "password123"'}),Object(m.jsx)("li",{children:"Use at least one capital letter and one special character"})]})}),Object(m.jsx)("div",{className:"modal-footer",children:Object(m.jsx)("button",{type:"button",className:"btn btn-primary","data-bs-dismiss":"modal",children:"OK, I get it!"})})]})})}),Object(m.jsx)("div",{className:"container-xxl mb-5",children:Object(m.jsx)("div",{className:"row shadow rounded-3 bg-white p-5 justify-content-center",children:Object(m.jsxs)("div",{className:"col-lg-6 col-md-8 col-sm-10 col-12",children:[Object(m.jsx)("h1",{children:"Sign Up"}),Object(m.jsxs)("form",{onSubmit:_,children:[Object(m.jsxs)("div",{className:"mb-3",children:[Object(m.jsx)("label",{for:"username",className:"form-label",children:"Project Name"}),Object(m.jsx)("input",{type:"text",className:"form-control",id:"username","aria-describedby":"usernameHelp",value:n,onChange:function(e){c(e.target.value)}}),Object(m.jsx)("div",{id:"emailHelp",className:"form-text",children:"Project or personal name. You can change this later."})]}),Object(m.jsxs)("div",{className:"mb-3",children:[Object(m.jsx)("label",{for:"email",className:"form-label",children:"Email address"}),Object(m.jsx)("input",{type:"email",className:"form-control",id:"email","aria-describedby":"emailHelp",value:p,onChange:function(e){j(e.target.value)}}),Object(m.jsx)("div",{id:"emailHelp",className:"form-text",children:"We'll never share your email with anyone else."})]}),Object(m.jsxs)("div",{className:"mb-3",children:[Object(m.jsx)("label",{for:"password",className:"form-label",children:"Password"}),Object(m.jsx)("input",{type:"password",className:"form-control",id:"password",value:f,onChange:function(e){v(e.target.value)}}),Object(m.jsx)("div",{id:"password-reqs",className:"form-text","data-bs-toggle":"modal","data-bs-target":"#strongpassword",style:{cursor:"pointer"},children:"Use a strong password"})]}),Object(m.jsxs)("div",{className:"mb-3",children:[Object(m.jsx)("label",{for:"confirmpassword",className:"form-label",children:"Confirm Password"}),Object(m.jsx)("input",{type:"password",className:"form-control",id:"confirmpassword",value:N,onChange:function(e){k(e.target.value)}})]}),Object(m.jsxs)("div",{className:"d-grid gap-2 d-md-flex justify-content-center",children:[Object(m.jsx)("button",{type:"submit",className:"btn btn-primary",children:"Sign Up"}),Object(m.jsx)(i.b,{to:"/Login",children:Object(m.jsx)("button",{type:"button",className:"btn btn-outline-primary",children:"Log In"})})]})]})]})})})]})},P=function(){return Object(m.jsx)(m.Fragment,{children:Object(m.jsx)("div",{className:"container ",children:Object(m.jsx)("nav",{className:"navbar navbar-expand-lg navbar-light bg-light ",children:Object(m.jsxs)("div",{className:"container-fluid ",children:[Object(m.jsx)("div",{className:"navbar-brand"}),Object(m.jsx)("button",{className:"navbar-toggler",type:"button","data-bs-toggle":"collapse","data-bs-target":"#navbarNavAltMarkup","aria-controls":"navbarNavAltMarkup","aria-expanded":"false","aria-label":"Toggle navigation",children:Object(m.jsx)("span",{className:"navbar-toggler-icon"})}),Object(m.jsx)("div",{children:Object(m.jsxs)("div",{className:"d-flex",children:[Object(m.jsx)("div",{className:"",children:Object(m.jsx)(i.b,{className:"text-link",to:"/dashboard",children:"Dashboard"})}),Object(m.jsx)("div",{className:"",children:Object(m.jsx)(i.b,{className:"text-link",to:"/suppliers",children:"Suppliers"})}),Object(m.jsx)("div",{className:"",children:Object(m.jsx)(i.b,{className:"text-link",to:"/materials",children:"Materials"})}),Object(m.jsx)("div",{className:"",children:Object(m.jsx)(i.b,{className:"text-link",to:"/transactions",children:"Transactions"})})]})})]})})})})},M="http://localhost:5000",V=function(){var e=Object(d.a)(u.a.mark((function e(t,a){var r,n;return u.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,fetch("".concat(M,"/product/").concat(t),{method:"GET",headers:{Authorization:"Bearer ".concat(a)}});case 3:if((r=e.sent).ok){e.next=9;break}return e.next=7,r.json();case 7:throw n=e.sent,new Error(n);case 9:return e.next=11,r.json();case 11:return e.abrupt("return",e.sent);case 14:if(e.prev=14,e.t0=e.catch(0),401!==parseInt(e.t0.message)){e.next=20;break}throw new Error(e.t0.message);case 20:throw new Error("Failed to display product");case 21:case"end":return e.stop()}}),e,null,[[0,14]])})));return function(t,a){return e.apply(this,arguments)}}(),F=function(){var e=Object(d.a)(u.a.mark((function e(t,a){var r,n;return u.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,fetch("".concat(M,"/product"),{method:"POST",headers:{"Content-Type":"application/json",Authorization:"Bearer ".concat(a)},body:JSON.stringify(t)});case 3:if((r=e.sent).ok){e.next=9;break}return e.next=7,r.json();case 7:throw n=e.sent,new Error(n.json());case 9:e.next=14;break;case 11:throw e.prev=11,e.t0=e.catch(0),new Error("Something went wrong");case 14:case"end":return e.stop()}}),e,null,[[0,11]])})));return function(t,a){return e.apply(this,arguments)}}(),I=function(){var e=Object(d.a)(u.a.mark((function e(t){var a,r,n;return u.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,fetch("".concat(M,"/products"),{method:"GET",headers:{Authorization:"Bearer ".concat(t)}});case 3:if((a=e.sent).ok){e.next=9;break}return e.next=7,a.json();case 7:throw r=e.sent,new Error(r.json());case 9:return e.next=11,a.json();case 11:return n=e.sent,e.abrupt("return",n);case 15:if(e.prev=15,e.t0=e.catch(0),401!==parseInt(e.t0.message)){e.next=21;break}throw new Error(e.t0.message);case 21:throw new Error("Failed to get products");case 22:case"end":return e.stop()}}),e,null,[[0,15]])})));return function(t){return e.apply(this,arguments)}}(),A=function(){var e=Object(d.a)(u.a.mark((function e(t,a){var r,n;return u.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,fetch("".concat(M,"/product/").concat(t),{method:"DELETE",headers:{Authorization:"Bearer ".concat(a)}});case 3:if((r=e.sent).ok){e.next=9;break}return e.next=7,r.json();case 7:throw n=e.sent,new Error(n.message);case 9:e.next=15;break;case 11:throw e.prev=11,e.t0=e.catch(0),console.error(e.t0),new Error("Failed to delete product");case 15:case"end":return e.stop()}}),e,null,[[0,11]])})));return function(t,a){return e.apply(this,arguments)}}(),U=function(){var e=Object(d.a)(u.a.mark((function e(t,a,r){var n,c;return u.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,fetch("".concat(M,"/product/price/").concat(t),{method:"PUT",headers:{"Content-Type":"application/json",Authorization:"Bearer ".concat(r)},body:JSON.stringify(a)});case 3:if((n=e.sent).ok){e.next=9;break}return e.next=7,n.json();case 7:throw c=e.sent,new Error(c.message);case 9:e.next=15;break;case 11:throw e.prev=11,e.t0=e.catch(0),console.error(e.t0),new Error("Failed to update price");case 15:case"end":return e.stop()}}),e,null,[[0,11]])})));return function(t,a,r){return e.apply(this,arguments)}}(),B=function(){var e=Object(d.a)(u.a.mark((function e(t,a,r){var n,c;return u.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,fetch("".concat(M,"/product/yield/").concat(t),{method:"PUT",headers:{"Content-Type":"application/json",Authorization:"Bearer ".concat(r)},body:JSON.stringify(a)});case 3:if((n=e.sent).ok){e.next=9;break}return e.next=7,n.json();case 7:throw c=e.sent,new Error(c.message);case 9:e.next=15;break;case 11:throw e.prev=11,e.t0=e.catch(0),console.error(e.t0),new Error("Failed to update yield");case 15:case"end":return e.stop()}}),e,null,[[0,11]])})));return function(t,a,r){return e.apply(this,arguments)}}(),z=function(e){var t=T().addToast,a=O(),n=a.token,c=a.logOut,s=Object(r.useState)(""),i=Object(b.a)(s,2),l=i[0],p=i[1],j=e.setDisplayedProduct,h=e.products,x=e.setProductYield,f=e.setProductPrice,v=Object(o.f)();return Object(m.jsxs)("div",{className:"col-12 col-md-3 border-end",children:[Object(m.jsx)("div",{className:"row my-4 ",children:Object(m.jsx)("div",{className:"col-12  align-self-center",children:Object(m.jsxs)("div",{className:"input-group",children:[Object(m.jsx)("span",{className:"input-group-text",id:"basic-addon1",children:Object(m.jsx)("i",{className:"bi bi-search"})}),Object(m.jsx)("input",{type:"text",className:"form-control",placeholder:"Search products...","aria-label":"Search products...","aria-describedby":"search-products",value:l,onChange:function(e){p(e.target.value)}})]})})}),Object(m.jsxs)("div",{className:"row  mx-0 limit-y",children:[Object(m.jsx)("div",{className:"row my-1 d-grid g-0 mx-0",children:Object(m.jsx)("button",{className:"btn btn-primary","data-bs-toggle":"modal","data-bs-target":"#newProductModal",children:"Add New Product"})}),h&&h.filter((function(e){return e.product_name.toLowerCase().includes(l.toLowerCase())})).map((function(e){return Object(m.jsx)("div",{className:"row my-1 d-grid g-0",children:Object(m.jsx)("button",{className:"btn btn-outline-primary",onClick:Object(d.a)(u.a.mark((function a(){var r;return u.a.wrap((function(a){for(;;)switch(a.prev=a.next){case 0:return a.prev=0,a.next=3,V(e.product_id,n);case 3:r=a.sent,j(r),x(r.yield),f(r.price),p(""),a.next=14;break;case 10:a.prev=10,a.t0=a.catch(0),"401"===a.t0.message&&(c(),v("/")),t({title:" Database Error",type:"Error",body:a.t0.message});case 14:case"end":return a.stop()}}),a,null,[[0,10]])}))),children:Object(m.jsxs)("div",{className:"row",children:[Object(m.jsx)("div",{className:"col-10 text-start",children:e.product_name}),Object(m.jsx)("div",{className:"col",children:Object(m.jsx)("svg",{xmlns:"http://www.w3.org/2000/svg",width:"16",height:"16",fill:"currentColor",className:"bi bi-arrow-right-circle",viewBox:"0 0 16 16",children:Object(m.jsx)("path",{fillRule:"evenodd",d:"M1 8a7 7 0 1 0 14 0A7 7 0 0 0 1 8zm15 0A8 8 0 1 1 0 8a8 8 0 0 1 16 0zM4.5 7.5a.5.5 0 0 0 0 1h5.793l-2.147 2.146a.5.5 0 0 0 .708.708l3-3a.5.5 0 0 0 0-.708l-3-3a.5.5 0 1 0-.708.708L10.293 7.5H4.5z"})})})]})})},e.product_id)}))]})]})},Y=function(e){var t=e.itemType,a=e.handleAddItem,r=e.newItemName,n=e.newItemDescription,c=e.setNewItemName,s=e.setNewItemDescription,o=e.clearEntry;return Object(m.jsx)("div",{className:"modal fade",tabIndex:"-1",id:"new".concat(t,"Modal"),children:Object(m.jsx)("div",{className:"modal-dialog modal-dialog-centered",children:Object(m.jsxs)("div",{className:"modal-content",children:[Object(m.jsxs)("div",{className:"modal-header",children:[Object(m.jsxs)("h5",{className:"modal-title",children:["Add New ",t]}),Object(m.jsx)("button",{type:"button",className:"btn-close","data-bs-dismiss":"modal","aria-label":"Close",onClick:function(){return o()}})]}),Object(m.jsx)("div",{className:"modal-body",children:Object(m.jsxs)("form",{action:"",onSubmit:a,children:[Object(m.jsxs)("label",{htmlFor:"productName",className:"form-label",children:[t," Name"]}),Object(m.jsx)("input",{type:"text",className:"form-control",id:"productName",value:r,onChange:function(e){return c(e.target.value)}}),"Supplier"!==t&&Object(m.jsxs)(m.Fragment,{children:[Object(m.jsxs)("label",{htmlFor:"productDescription",className:"form-label",children:[t," Description"]}),Object(m.jsx)("textarea",{type:"text",rows:"3",className:"form-control",id:"productDescription",value:n,onChange:function(e){return s(e.target.value)}})]}),Object(m.jsxs)("div",{className:"modal-footer",children:[Object(m.jsx)("button",{type:"button",className:"btn btn-secondary","data-bs-dismiss":"modal",onClick:function(){return o()},children:"Close"}),Object(m.jsxs)("button",{type:"submit",className:"btn btn-primary","data-bs-dismiss":"modal",children:["Add ",t]})]})]})})]})})})},R=a(7),q=function(e){var t=e.display,a=e.content;return Object(m.jsx)("div",{className:t,children:Object(m.jsx)("p",{className:"",children:a})})},L=function(e){var t=e.display,a=e.ID,r=e.handleDeleteResource,n=e.setRowToEdit;return Object(m.jsx)("div",{className:t,children:Object(m.jsxs)("div",{className:"btn-group",role:"group","aria-label":"update delete",children:[Object(m.jsx)("button",{className:"btn btn-outline-primary",onClick:function(){return n(a)},children:Object(m.jsx)("i",{className:"bi bi-pencil-square"})}),Object(m.jsx)("button",{className:"btn btn-outline-danger",onClick:function(){r(a)},children:Object(m.jsx)("i",{className:"bi bi-trash-fill"})})]})})},H=function(e){var t=e.display,a=e.label,n=e.list,c=e.itemkey,s=e.newValue,o=e.setNewValue,i=e.currentState,l=e.id,u=e.modalID;return Object(r.useEffect)((function(){o((function(){return i}))}),[]),Object(m.jsx)("div",{className:t,children:Object(m.jsxs)("div",{className:"input-group",children:[Object(m.jsxs)("select",{className:"form-select","aria-label":a,value:s,onChange:function(e){o(e.target.value)},children:[Object(m.jsxs)("option",{disabled:!0,value:"",children:[a,"..."]}),!j.a.isEmpty(n)&&n.map((function(e){return Object(m.jsx)("option",{value:e[l],children:e[c]},e[l])}))]}),Object(m.jsx)("button",{className:"btn btn-outline-secondary","data-bs-toggle":"modal","data-bs-target":u,children:"+"})]})})},Q=function(e){var t=e.display,a=e.type,n=e.label,c=e.newValue,s=e.setNewValue,o=e.placeholder,i=e.min,l=e.step,u=e.maxlength,d=e.minlength,b=e.currentState,p=e.onBlur;return Object(r.useEffect)((function(){!j.a.isEmpty(b)&&s(b)}),[]),Object(m.jsx)("div",{className:t,children:Object(m.jsx)("input",{type:a,className:"form-control user-select-all",placeholder:o,"aria-label":n,value:c,maxLength:u,minLength:d,min:i,step:l,onChange:function(e){s(e.target.value)},onBlur:p})})},J=function(e){var t=e.display,a=e.value,n=e.setter,c=e.currentState;return Object(r.useEffect)((function(){!j.a.isEmpty(c)&&n(c)})),Object(m.jsx)("div",{className:t,children:Object(m.jsxs)("div",{className:"input-group",children:[Object(m.jsx)("span",{className:"input-group-text",children:"$"}),Object(m.jsx)("input",{type:"number",className:"form-control user-select-all",placeholder:"0.00","aria-label":"cost",step:"0.01",min:"0",value:a,onChange:function(e){n(e.target.value)},onBlur:function(){return n(parseFloat(a).toFixed(2))}})]})})},G=function(e){var t=e.display,a=e.label,n=e.list,c=e.itemkey,s=e.newValue,o=e.setNewValue,i=e.currentState,l=e.id;return Object(r.useEffect)((function(){o(i)}),[]),Object(m.jsx)("div",{className:t,children:Object(m.jsx)("select",{className:"form-select","aria-label":a,value:s,onChange:function(e){o(e.target.value)},children:!j.a.isEmpty(n)&&n.map((function(e){return Object(m.jsx)("option",{value:e[l],children:e[c]},e[l])}))})})},$=function(e){var t=e.display,a=e.headerText;return Object(m.jsx)("div",{className:t,children:Object(m.jsx)("h6",{className:"text-center",children:a})})},W=a(16),K=a.n(W),X=function(e){var t=e.display,a=e.editHandler,r=e.resourceID,n=e.setRowToEdit,c=e.clearEdit;return Object(m.jsx)("div",{className:t,children:Object(m.jsx)("button",{className:"btn btn-outline-secondary",onClick:function(){a(r),n(""),c()},children:Object(m.jsx)("i",{className:"bi bi-check-lg"})})})},Z="http://localhost:5000",ee=function(){var e=Object(d.a)(u.a.mark((function e(t){var a,r;return u.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,fetch("".concat(Z,"/transaction"),{headers:{Authorization:"Bearer ".concat(t)}});case 3:if((a=e.sent).ok){e.next=9;break}return e.next=7,a.json();case 7:throw r=e.sent,new Error(r.message);case 9:return e.next=11,a.json();case 11:return e.abrupt("return",e.sent);case 14:throw e.prev=14,e.t0=e.catch(0),console.error(e.t0),new Error("Failed to get transaction data");case 18:case"end":return e.stop()}}),e,null,[[0,14]])})));return function(t){return e.apply(this,arguments)}}(),te=function(){var e=Object(d.a)(u.a.mark((function e(t,a){var r,n;return u.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,fetch("".concat(Z,"/transaction/").concat(t),{method:"DELETE",headers:{Authorization:"Bearer ".concat(a)}});case 3:if((r=e.sent).ok){e.next=9;break}return e.next=7,r.json();case 7:throw n=e.sent,new Error(n.message);case 9:e.next=15;break;case 11:throw e.prev=11,e.t0=e.catch(0),console.error(e.t0),new Error("Failed to delete transaction");case 15:case"end":return e.stop()}}),e,null,[[0,11]])})));return function(t,a){return e.apply(this,arguments)}}(),ae=function(){var e=Object(d.a)(u.a.mark((function e(t,a){var r,n;return u.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,fetch("".concat(Z,"/transaction"),{method:"POST",headers:{"Content-Type":"application/json",Authorization:"Bearer ".concat(a)},body:JSON.stringify(t)});case 3:if((r=e.sent).ok){e.next=9;break}return e.next=7,r.json();case 7:throw n=e.sent,new Error(n.message);case 9:e.next=15;break;case 11:throw e.prev=11,e.t0=e.catch(0),console.error(e.t0),new Error("Something went wrong!");case 15:case"end":return e.stop()}}),e,null,[[0,11]])})));return function(t,a){return e.apply(this,arguments)}}(),re=function(){var e=Object(d.a)(u.a.mark((function e(t,a,r){var n,c;return u.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,fetch("".concat(Z,"/transaction/edit/").concat(t),{method:"PUT",headers:{"Content-Type":"application/json",Authorization:"Bearer ".concat(r)},body:JSON.stringify(a)});case 3:if((n=e.sent).ok){e.next=9;break}return e.next=7,n.json();case 7:throw c=e.sent,new Error(c.message);case 9:e.next=15;break;case 11:throw e.prev=11,e.t0=e.catch(0),console.error(e.t0),new Error("Failed to load units");case 15:case"end":return e.stop()}}),e,null,[[0,11]])})));return function(t,a,r){return e.apply(this,arguments)}}(),ne=function(e){var t=e.units,a=e.handleAddTransactionForMaterial,n=e.handleDeleteTransaction,c=e.suppliers,s=e.transactionsForMaterial,o=e.transactionSupplier,i=e.setTransactionSupplier,l=e.transactionQuantity,p=e.setTransactionQuantity,h=e.transactionUnit,x=e.setTransactionUnit,O=e.transactionCost,f=e.setTransactionCost,v=e.transactionDate,y=e.setTransactionDate,w=e.modalMaterial,g=e.retrieveTransactionsForMaterial,N=T().addToast,k=Object(r.useState)(""),S=Object(b.a)(k,2),E=S[0],D=S[1],_=w.material_id,C=Object(r.useState)(""),P=Object(b.a)(C,2),M=P[0],V=P[1],F=Object(r.useState)(""),I=Object(b.a)(F,2),A=I[0],U=I[1],B=Object(r.useState)(""),z=Object(b.a)(B,2),Y=z[0],R=z[1],W=Object(r.useState)(""),Z=Object(b.a)(W,2),ee=Z[0],te=Z[1],ae=Object(r.useState)(""),ne=Object(b.a)(ae,2),ce=ne[0],se=ne[1],oe=function(){te(""),se(""),R(""),V(""),U("")},ie=function(){var e=Object(d.a)(u.a.mark((function e(t){var a;return u.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,a={editTransactionMaterial:_,editTransactionSupplier:M,editTransactionUnit:A,editTransactionCost:ee,editTransactionQuantity:Y,editTransactionDate:ce},e.next=4,re(t,a);case 4:return e.next=6,g();case 6:oe(),e.next=12;break;case 9:e.prev=9,e.t0=e.catch(0),N({title:" Database Error",type:"Error",body:e.t0.message});case 12:case"end":return e.stop()}}),e,null,[[0,9]])})));return function(t){return e.apply(this,arguments)}}();return Object(m.jsxs)(r.Fragment,{children:[Object(m.jsxs)("div",{className:"row row-cols-6 gx-1",children:[Object(m.jsx)($,{display:"col-3",headerText:"Supplier"}),Object(m.jsx)($,{display:"col-1",headerText:"Quantity"}),Object(m.jsx)($,{display:"col-2",headerText:"Unit"}),Object(m.jsx)($,{display:"col-2",headerText:"Total Cost"}),Object(m.jsx)($,{display:"col-2",headerText:"Transaction Date"}),Object(m.jsx)($,{display:"col-2",headerText:""})]}),Object(m.jsxs)("div",{className:"row row-cols-6 border-bottom py-2 mb-2 gx-1",children:[Object(m.jsx)(H,{display:"col-3",label:"Supplier",list:c,itemkey:"supplier_name",id:"supplier_id",newValue:o,setNewValue:i,modalID:"#newSupplierModal"}),Object(m.jsx)(Q,{display:"col-1",type:"number",label:"Quantity",min:0,newValue:l,setNewValue:p,placeholder:"0"}),Object(m.jsx)(G,{display:"col-2",label:"Unit",list:t,itemkey:"unit_name",id:"unit_id",currentState:1,newValue:h,setNewValue:x}),Object(m.jsx)(J,{display:"col-2",value:O,setter:f}),Object(m.jsx)(Q,{display:"col-2",type:"date",label:"Date",newValue:v,setNewValue:y,placeholder:"Transaction Date"}),Object(m.jsx)("div",{className:"col-2 d-grid",children:Object(m.jsx)("button",{className:"btn btn-mary",onClick:function(){return a()},children:"Add Transaction"})})]}),!j.a.isEmpty(s)&&s.map((function(e){return e.transaction_id!==E?Object(m.jsxs)("div",{className:"row row-cols-6 border-bottom py-2 mb-2 gx-0",children:[Object(m.jsx)(q,{display:"col-3 text-center",content:e.supplier_name}),Object(m.jsx)(q,{display:"col-1 text-center",content:e.quantity}),Object(m.jsx)(q,{display:"col-2 text-center",content:e.unit_name}),Object(m.jsx)(q,{display:"col-2 text-center",content:e.cost}),Object(m.jsx)(q,{display:"col-2 text-center",content:K()(e.transaction_date).format("MMM D, YYYY")}),Object(m.jsx)(L,{display:"col-2 d-grid",ID:e.transaction_id,handleDeleteResource:n,setRowToEdit:D})]},e.transaction_id):Object(m.jsxs)("div",{className:"row row-cols-6 border-bottom py-2 mb-2 gx-1",children:[Object(m.jsx)(H,{display:"col-3",label:"Supplier",list:c,itemkey:"supplier_name",id:"supplier_id",currentState:e.supplier_id,newValue:M,setNewValue:V,modalID:"#newSupplierModal"}),Object(m.jsx)(Q,{display:"col-1",type:"number",label:"Quantity",min:0,currentState:e.quantity,newValue:Y,setNewValue:R,placeholder:"0"}),Object(m.jsx)(G,{display:"col-2",label:"Unit",list:t,itemkey:"unit_name",id:"unit_id",currentState:e.unit_id,newValue:A,setNewValue:U}),Object(m.jsx)(J,{display:"col-2",currentState:e.cost,value:ee,setter:te}),Object(m.jsx)(Q,{display:"col-2",type:"date",label:"Date",currentState:K()(e.transaction_date).format("YYYY-MM-DD"),newValue:ce,setNewValue:se,placeholder:"Transaction Date"}),Object(m.jsx)(X,{display:"col-2 d-grid",editHandler:ie,resourceID:e.transaction_id,setRowToEdit:D,clearEdit:oe})]})}))]})},ce=function(e){var t=e.modalMaterial,a=e.clearTransactionEntry;return Object(m.jsx)("div",{className:"modal fade",tabIndex:"-1",id:"materialTransactionModal",children:Object(m.jsx)("div",{className:"modal-dialog modal-xl modal-dialog-centered",children:Object(m.jsxs)("div",{className:"modal-content",children:[Object(m.jsxs)("div",{className:"modal-header",children:[Object(m.jsxs)("h5",{className:"modal-title",children:["Recent Transactions for ",t.material_name]}),Object(m.jsx)("button",{type:"button",className:"btn-close","data-bs-dismiss":"modal","aria-label":"Close",onClick:function(){return a()}})]}),Object(m.jsx)("div",{className:"modal-body",children:Object(m.jsx)(ne,Object(R.a)({},e))})]})})})},se=function(e){var t=e.id,a=e.currentState,n=e.isPerUnit,c=e.setIsPerUnit;return Object(r.useEffect)((function(){c((function(){return a}))}),[]),Object(m.jsxs)("div",{className:"col-1 text-center",children:[Object(m.jsx)("input",{checked:!!n,type:"checkbox",className:"btn-check",id:t,autoComplete:"off",value:n,onChange:function(){c((function(e){return!e}))}}),Object(m.jsx)("label",{className:"btn btn-outline-secondary",htmlFor:t,children:n?Object(m.jsx)("i",{className:"bi bi-check"}):"--"})]})},oe="http://localhost:5000",ie=function(){var e=Object(d.a)(u.a.mark((function e(t){var a,r;return u.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,fetch("".concat(oe,"/materials"),{method:"GET",headers:{Authorization:"Bearer ".concat(t)}});case 3:if((a=e.sent).ok){e.next=9;break}return e.next=7,a.json();case 7:throw r=e.sent,new Error(r.message);case 9:return e.next=11,a.json();case 11:return e.abrupt("return",e.sent);case 14:throw e.prev=14,e.t0=e.catch(0),console.error(e.t0),new Error(e.t0.errorCode);case 18:case"end":return e.stop()}}),e,null,[[0,14]])})));return function(t){return e.apply(this,arguments)}}(),le=function(){var e=Object(d.a)(u.a.mark((function e(t,a){var r,n;return u.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,fetch("".concat(oe,"/productHasMaterials/").concat(t),{method:"GET",headers:{Authorization:"Bearer ".concat(a)}});case 3:if((r=e.sent).ok){e.next=9;break}return e.next=7,r.json();case 7:throw n=e.sent,new Error(n.message);case 9:return e.next=11,r.json();case 11:return e.abrupt("return",e.sent);case 14:throw e.prev=14,e.t0=e.catch(0),console.error(e.t0),new Error("Failed to get materials");case 18:case"end":return e.stop()}}),e,null,[[0,14]])})));return function(t,a){return e.apply(this,arguments)}}(),ue=function(){var e=Object(d.a)(u.a.mark((function e(t,a){var r,n;return u.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,fetch("".concat(oe,"/materialHasTransactions/").concat(t),{method:"GET",headers:{Authorization:"Bearer ".concat(a)}});case 3:if((r=e.sent).ok){e.next=9;break}return e.next=7,r.json();case 7:throw n=e.sent,new Error(n.message);case 9:return e.next=11,r.json();case 11:return e.abrupt("return",e.sent);case 14:throw e.prev=14,e.t0=e.catch(0),console.error(e.t0),new Error("Failed to get transactions for material");case 18:case"end":return e.stop()}}),e,null,[[0,14]])})));return function(t,a){return e.apply(this,arguments)}}(),de=function(){var e=Object(d.a)(u.a.mark((function e(t,a){var r,n;return u.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,fetch("".concat(oe,"/productHasMaterial"),{method:"POST",headers:{"Content-Type":"application/json",Authorization:"Bearer ".concat(a)},body:JSON.stringify(t)});case 3:if((r=e.sent).ok){e.next=9;break}return e.next=7,r.json();case 7:throw n=e.sent,new Error(n.message);case 9:return e.next=11,r.json();case 11:return e.abrupt("return",e.sent);case 14:throw e.prev=14,e.t0=e.catch(0),console.error(e.t0),new Error("Failed to add material to product");case 18:case"end":return e.stop()}}),e,null,[[0,14]])})));return function(t,a){return e.apply(this,arguments)}}(),be=function(){var e=Object(d.a)(u.a.mark((function e(t,a){var r,n;return u.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,fetch("".concat(oe,"/materialHasTransaction"),{method:"POST",headers:{"Content-Type":"application/json",Authorization:"Bearer ".concat(a)},body:JSON.stringify(t)});case 3:if((r=e.sent).ok){e.next=9;break}return e.next=7,r.json();case 7:throw n=e.sent,new Error(n.message);case 9:return e.next=11,r.json();case 11:return e.abrupt("return",e.sent);case 14:throw e.prev=14,e.t0=e.catch(0),console.error(e.t0),new Error("Failed to add transaction");case 18:case"end":return e.stop()}}),e,null,[[0,14]])})));return function(t,a){return e.apply(this,arguments)}}(),pe=function(){var e=Object(d.a)(u.a.mark((function e(t){var a,r;return u.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,fetch("".concat(oe,"/units"),{method:"GET",headers:{Authorization:"Bearer ".concat(t)}});case 3:if((a=e.sent).ok){e.next=9;break}return e.next=7,a.json();case 7:throw r=e.sent,new Error(r.message);case 9:return e.next=11,a.json();case 11:return e.abrupt("return",e.sent);case 14:throw e.prev=14,e.t0=e.catch(0),console.error(e.t0),new Error("Failed to load units");case 18:case"end":return e.stop()}}),e,null,[[0,14]])})));return function(t){return e.apply(this,arguments)}}(),je=function(){var e=Object(d.a)(u.a.mark((function e(t){var a,r;return u.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,fetch("".concat(oe,"/suppliers"),{method:"GET",headers:{Authorization:"Bearer ".concat(t)}});case 3:if((a=e.sent).ok){e.next=9;break}return e.next=7,a.json();case 7:throw r=e.sent,new Error(r.message);case 9:return e.abrupt("return",a.json());case 12:throw e.prev=12,e.t0=e.catch(0),console.error(e.t0),new Error("Failed to load suppliers");case 16:case"end":return e.stop()}}),e,null,[[0,12]])})));return function(t){return e.apply(this,arguments)}}(),me=function(){var e=Object(d.a)(u.a.mark((function e(t,a){var r,n;return u.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,fetch("".concat(oe,"/productHasMaterial/").concat(t),{method:"DELETE",headers:{Authorization:"Bearer ".concat(a)}});case 3:if((r=e.sent).ok){e.next=9;break}return e.next=7,r.json();case 7:throw n=e.sent,new Error(n.message);case 9:e.next=15;break;case 11:throw e.prev=11,e.t0=e.catch(0),console.error(e.t0),new Error("Failed to remove material from product");case 15:case"end":return e.stop()}}),e,null,[[0,11]])})));return function(t,a){return e.apply(this,arguments)}}(),he=function(){var e=Object(d.a)(u.a.mark((function e(t,a,r){var n,c;return u.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,fetch("".concat(oe,"/productHasMaterial/edit/").concat(t),{method:"PUT",headers:{"Content-Type":"application/json",Authorization:"Bearer ".concat(r)},body:JSON.stringify(a)});case 3:if((n=e.sent).ok){e.next=9;break}return e.next=7,n.json();case 7:throw c=e.sent,new Error(c.message);case 9:e.next=14;break;case 11:throw e.prev=11,e.t0=e.catch(0),new Error(e.t0.errorCode);case 14:case"end":return e.stop()}}),e,null,[[0,11]])})));return function(t,a,r){return e.apply(this,arguments)}}(),xe=function(){var e=Object(d.a)(u.a.mark((function e(t,a,r){var n,c;return u.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,fetch("".concat(oe,"/materialHasTransaction/").concat(t,"/").concat(a),{method:"DELETE",headers:{Authorization:"Bearer ".concat(r)}});case 3:if((n=e.sent).ok){e.next=9;break}return e.next=7,n.json();case 7:throw c=e.sent,new Error(c.message);case 9:e.next=14;break;case 11:throw e.prev=11,e.t0=e.catch(0),new Error(e.t0.errorCode);case 14:case"end":return e.stop()}}),e,null,[[0,11]])})));return function(t,a,r){return e.apply(this,arguments)}}(),Oe=function(){var e=Object(d.a)(u.a.mark((function e(t,a){var r,n;return u.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,fetch("".concat(oe,"/material"),{method:"POST",headers:{"Content-Type":"application/json",Authorization:"Bearer ".concat(a)},body:JSON.stringify(t)});case 3:if((r=e.sent).ok){e.next=9;break}return e.next=7,r.json();case 7:throw n=e.sent,new Error(n.message);case 9:e.next=14;break;case 11:throw e.prev=11,e.t0=e.catch(0),new Error(e.t0.errorCode);case 14:case"end":return e.stop()}}),e,null,[[0,11]])})));return function(t,a){return e.apply(this,arguments)}}(),fe=function(){var e=Object(d.a)(u.a.mark((function e(t,a){var r,n;return u.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,fetch("".concat(oe,"/supplier"),{method:"POST",headers:{"Content-Type":"application/json",Authorization:"Bearer ".concat(a)},body:JSON.stringify(t)});case 3:if((r=e.sent).ok){e.next=9;break}return e.next=7,r.json();case 7:throw n=e.sent,new Error(n.message);case 9:e.next=14;break;case 11:throw e.prev=11,e.t0=e.catch(0),new Error(e.t0.errorCode);case 14:case"end":return e.stop()}}),e,null,[[0,11]])})));return function(t,a){return e.apply(this,arguments)}}(),ve=function(e){var t=O().token,a=T().addToast,n=e.productID,c=e.productYield,s=e.setProductAverageCost,o=(new Date).toISOString().split("T")[0],i=Object(r.useState)([]),l=Object(b.a)(i,2),p=l[0],h=l[1],x=Object(r.useState)([]),f=Object(b.a)(x,2),v=f[0],y=f[1],w=Object(r.useState)([]),g=Object(b.a)(w,2),N=g[0],k=g[1],E=Object(r.useState)([]),D=Object(b.a)(E,2),_=D[0],C=D[1],P=Object(r.useState)({}),M=Object(b.a)(P,2),V=M[0],F=M[1],I=Object(r.useState)(""),A=Object(b.a)(I,2),U=A[0],B=A[1],z=Object(r.useState)("1"),R=Object(b.a)(z,2),J=R[0],W=R[1],K=Object(r.useState)("0.00"),Z=Object(b.a)(K,2),ee=Z[0],te=Z[1],ae=Object(r.useState)("0"),re=Object(b.a)(ae,2),ne=re[0],oe=re[1],ve=Object(r.useState)(o),ye=Object(b.a)(ve,2),we=ye[0],ge=ye[1],Ne=Object(r.useState)(""),ke=Object(b.a)(Ne,2),Se=ke[0],Ee=ke[1],Te=Object(r.useState)("1"),De=Object(b.a)(Te,2),_e=De[0],Ce=De[1],Pe=Object(r.useState)("0"),Me=Object(b.a)(Pe,2),Ve=Me[0],Fe=Me[1],Ie=Object(r.useState)(!1),Ae=Object(b.a)(Ie,2),Ue=Ae[0],Be=Ae[1],ze=Object(r.useState)([]),Ye=Object(b.a)(ze,2),Re=Ye[0],qe=Ye[1],Le=Object(r.useState)(""),He=Object(b.a)(Le,2),Qe=He[0],Je=He[1],Ge=Object(r.useState)("1"),$e=Object(b.a)(Ge,2),We=$e[0],Ke=$e[1],Xe=Object(r.useState)("0"),Ze=Object(b.a)(Xe,2),et=Ze[0],tt=Ze[1],at=Object(r.useState)(!1),rt=Object(b.a)(at,2),nt=rt[0],ct=rt[1],st=Object(r.useState)([]),ot=Object(b.a)(st,2),it=ot[0],lt=ot[1],ut=Object(r.useState)([]),dt=Object(b.a)(ut,2),bt=dt[0],pt=dt[1],jt=Object(r.useState)([]),mt=Object(b.a)(jt,2),ht=mt[0],xt=mt[1],Ot=Object(r.useState)(""),ft=Object(b.a)(Ot,2),vt=ft[0],yt=ft[1],wt=function(){var e=Object(d.a)(u.a.mark((function e(){var a;return u.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!j.a.isEmpty(V)){e.next=2;break}return e.abrupt("return");case 2:return e.next=4,ue(V.material_id,t);case 4:a=e.sent,C(a);case 6:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),gt=function(){var e=Object(d.a)(u.a.mark((function e(){var r,n;return u.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,r=V.material_id,n={transactionSupplier:U,materialID:r,transactionUnit:J,transactionCost:ee,transactionQuantity:ne,transactionDate:we},e.next=5,be(n,t);case 5:return e.next=7,wt();case 7:return e.next=9,Vt();case 9:Pt(),e.next=15;break;case 12:e.prev=12,e.t0=e.catch(0),a({title:" Database Error",type:"Error",body:e.t0.message});case 15:case"end":return e.stop()}}),e,null,[[0,12]])})));return function(){return e.apply(this,arguments)}}(),Nt=function(){var e=Object(d.a)(u.a.mark((function e(a){var r;return u.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=V.material_id,e.next=3,xe(r,a,t);case 3:C(_.filter((function(e){return e.transaction_id!==a}))),Vt();case 5:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}();Object(r.useEffect)((function(){wt()}),[V]);var kt=function(){var e=Object(d.a)(u.a.mark((function e(){var r,c;return u.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,r={productID:n,addMaterial:Se,newUnit:_e,newQuantity:Ve,isPerUnit:Ue},e.next=4,de(r,t);case 4:return e.next=6,le(n,t);case 6:c=e.sent,qe(c),Ee(""),Ce("1"),Fe("0"),a({title:"",type:"Success",body:"Material added"}),e.next=17;break;case 14:e.prev=14,e.t0=e.catch(0),a({title:" Database Error",type:"Error",body:e.t0.message});case 17:case"end":return e.stop()}}),e,null,[[0,14]])})));return function(){return e.apply(this,arguments)}}(),St=function(){var e=Object(d.a)(u.a.mark((function e(r){var n;return u.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,n={editMaterial:Qe,editQuantity:et,editUnit:We,editIsPerUnit:nt},e.next=4,he(r,n,t);case 4:Vt(),a({title:" Success",type:"Success",body:"Product updated"}),e.next=11;break;case 8:e.prev=8,e.t0=e.catch(0),a({title:" Database Error",type:"Error",body:e.t0.message});case 11:case"end":return e.stop()}}),e,null,[[0,8]])})));return function(t){return e.apply(this,arguments)}}(),Et=function(){Je(""),tt(""),Ke(""),ct(!1)},Tt=function(){var e=Object(d.a)(u.a.mark((function e(r){var n,c;return u.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r.preventDefault(),e.prev=1,n={newMaterialName:it,newMaterialDescription:bt},e.next=5,Oe(n,t);case 5:return e.next=7,ie(t);case 7:c=e.sent,h(c),Ct(),a({title:" Success",type:"Success",body:"Material added"}),e.next=16;break;case 13:e.prev=13,e.t0=e.catch(1),a({title:" Database Error",type:"Error",body:e.t0.message});case 16:case"end":return e.stop()}}),e,null,[[1,13]])})));return function(t){return e.apply(this,arguments)}}(),Dt=function(){var e=Object(d.a)(u.a.mark((function e(r){var n,c;return u.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r.preventDefault(),e.prev=1,n={newSupplierName:ht},e.next=5,fe(n,t);case 5:return e.next=7,je(t);case 7:c=e.sent,k(c),a({title:" Success",type:"Success",body:"Supplier added"}),e.next=15;break;case 12:e.prev=12,e.t0=e.catch(1),a({title:" Database Error",type:"Error",body:e.t0.message});case 15:case"end":return e.stop()}}),e,null,[[1,12]])})));return function(t){return e.apply(this,arguments)}}(),_t=function(){var e=Object(d.a)(u.a.mark((function e(r){return u.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,me(r,t);case 3:qe(Re.filter((function(e){return e.phm_id!==r}))),Vt(),a({title:" Success",type:"Success",body:"Material deleted"}),e.next=11;break;case 8:e.prev=8,e.t0=e.catch(0),a({title:" Database Error",type:"Error",body:e.t0.message});case 11:case"end":return e.stop()}}),e,null,[[0,8]])})));return function(t){return e.apply(this,arguments)}}(),Ct=function(){lt(""),pt(""),F({})},Pt=function(){B(""),W("1"),te("0.00"),oe("0"),ge(o)},Mt=function(){var e=Object(d.a)(u.a.mark((function e(){var r,n,c;return u.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,ie(t);case 3:return r=e.sent,e.next=6,pe(t);case 6:return n=e.sent,e.next=9,je(t);case 9:c=e.sent,h(r),y(n),k(c),e.next=19;break;case 15:e.prev=15,e.t0=e.catch(0),console.error(e.t0),a({title:"Error",type:"Error",body:e.t0.message});case 19:case"end":return e.stop()}}),e,null,[[0,15]])})));return function(){return e.apply(this,arguments)}}();Object(r.useEffect)((function(){Mt()}),[]);var Vt=function(){var e=Object(d.a)(u.a.mark((function e(){var a;return u.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,le(n,t);case 2:a=e.sent,qe(Object(S.a)(a));case 4:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}();return Object(r.useEffect)((function(){var e=function(){var e=Object(d.a)(u.a.mark((function e(){return u.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Vt();case 2:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}();e()}),[n]),Object(r.useEffect)((function(){!function(){if(j.a.isEmpty(Re))s("No Cost Data");else{var e=parseFloat(Re.reduce((function(e,t){return!1===t.is_per_unit?e+Number(t.avgcost)*t.quantity:e}),0)).toFixed(2),t=parseFloat(Re.reduce((function(e,t){return!0===t.is_per_unit?e+Number(t.avgcost)*t.quantity:e}),0)).toFixed(2),a=parseFloat(Number(e)/Number(c)+Number(t)).toFixed(2);s(a)}}()}),[Re,c]),Object(m.jsxs)(r.Fragment,{children:[Object(m.jsx)(ce,{units:v,clearTransactionEntry:Pt,handleAddTransactionForMaterial:gt,handleDeleteTransaction:Nt,modalMaterial:V,suppliers:N,transactionsForMaterial:_,transactionSupplier:U,setTransactionSupplier:B,transactionQuantity:ne,setTransactionQuantity:oe,transactionUnit:J,setTransactionUnit:W,transactionCost:ee,setTransactionCost:te,transactionDate:we,setTransactionDate:ge,retrieveTransactionsForMaterial:wt}),Object(m.jsx)(Y,{itemType:"Material",handleAddItem:Tt,newItemName:it,newItemDescription:bt,setNewItemName:lt,setNewItemDescription:pt,clearEntry:Ct}),Object(m.jsx)(Y,{itemType:"Supplier",handleAddItem:Dt,newItemName:ht,setNewItemName:xt,clearEntry:function(){xt("")}}),Object(m.jsxs)("div",{className:"row mx-auto pt-2 gx-0",children:[Object(m.jsxs)("div",{className:"row row-cols-6 pt-3 mx-auto gx-1 ",children:[Object(m.jsx)($,{display:"col-3",headerText:"Material"}),Object(m.jsx)($,{display:"col-2",headerText:"Quantity"}),Object(m.jsx)($,{display:"col-2",headerText:"Unit"}),Object(m.jsx)($,{display:"col-1",headerText:"Per Unit"}),Object(m.jsx)($,{display:"col-2",headerText:"Cost"}),Object(m.jsx)($,{display:"col-2",headerText:""})]}),Object(m.jsxs)("div",{className:"row row-cols-6 pt-3 mx-auto gx-1 shadow-sm mb-2",children:[Object(m.jsx)(H,{display:"col-3",label:"Material",list:p,itemkey:"material_name",newValue:Se,setNewValue:Ee,id:"material_id",modalID:"#newMaterialModal"}),Object(m.jsx)(Q,{display:"col-2",type:"number",label:"Quantity",newValue:Ve,setNewValue:Fe,placeholder:"0",min:0,step:1}),Object(m.jsx)(G,{display:"col-2",label:"Units",list:v,itemkey:"unit_name",id:"unit_id",currentState:1,newValue:_e,setNewValue:Ce}),Object(m.jsx)(se,{id:"new-ipu-check",currentState:!1,isPerUnit:Ue,setIsPerUnit:Be}),Object(m.jsx)("div",{className:"col-2 text-center text-muted mx-auto ",children:Object(m.jsx)("p",{className:"py-1 mx-auto",children:Object(m.jsx)("i",{className:"bi bi-currency-dollar",style:{fontSize:"1.2rem"}})})}),Object(m.jsx)("div",{className:"col-2 text-center d-grid pb-4",children:Object(m.jsx)("button",{className:"btn btn-outline-primary",onClick:function(){return kt()},children:"Add Material"})})]}),!j.a.isEmpty(Re)&&Re.map((function(e){return e.phm_id!==vt?Object(m.jsxs)("div",{className:"row row-cols-6 border-bottom py-1 mx-auto gx-1 highlight",children:[Object(m.jsx)(q,{display:"col-3 text-center ",content:e.material_name}),Object(m.jsx)(q,{display:"col-2 text-center ",content:e.quantity}),Object(m.jsx)(q,{display:"col-2 text-center",content:e.unit_name}),Object(m.jsx)(q,{display:"col-1 text-center",content:e.is_per_unit?"Yes":"No"}),Object(m.jsx)("div",{className:"col-2 d-grid  text-center ",children:Object(m.jsxs)("button",{className:e.avgcost?"btn btn-outline-success":"btn btn-outline-secondary","data-bs-toggle":"modal","data-bs-target":"#materialTransactionModal",onClick:function(){F(e)},children:[e.avgcost?"$".concat(parseFloat(e.avgcost*e.quantity).toFixed(2)):"$ --.--"," ",Object(m.jsx)("i",{className:"bi bi-pencil-square"})]},"displayAverageCost")}),Object(m.jsx)(L,{display:"col-2 d-grid",ID:e.phm_id,handleDeleteResource:_t,setRowToEdit:yt})]},e.phm_id):Object(m.jsxs)("div",{className:"row row-cols-6 border-bottom py-1 mx-auto gx-1",children:[Object(m.jsx)(H,{display:"col-3",label:"Material",list:p,itemkey:"material_name",currentState:e.material_id,newValue:Qe,setNewValue:Je,id:"material_id",modalID:"#newMaterialModal"}),Object(m.jsx)(Q,{display:"col-2",type:"number",label:"Quantity",currentState:e.quantity,newValue:et,setNewValue:tt,placeholder:"0",min:0,step:1}),Object(m.jsx)(G,{display:"col-2",label:"Units",list:v,itemkey:"unit_name",currentState:e.unit_id,newValue:We,setNewValue:Ke,id:"unit_id"}),Object(m.jsx)(se,{id:e.phm_id,currentState:e.is_per_unit,isPerUnit:nt,setIsPerUnit:ct}),Object(m.jsx)(q,{display:"text-muted text-center",content:e.avgcost?"$".concat(parseFloat(e.avgcost*e.quantity).toFixed(2)):"$ --.--"}),Object(m.jsx)(X,{display:"col-2 d-grid",editHandler:St,resourceID:e.phm_id,setRowToEdit:yt,clearEdit:Et})]})}))]})]})},ye=function(e){var t=O().token,a=e.renderProducts,n=e.deleteProduct,c=e.displayedProduct,s=e.productYield,o=e.setProductYield,i=e.updateProductYield,l=e.productPrice,b=e.setProductPrice,p=e.updateProductPrice,h=e.productAverageCost,x=e.setProductAverageCost;return Object(m.jsx)(r.Fragment,{children:Object(m.jsxs)("div",{className:"col-12 col-md-9 p-4 gx-5",children:[Object(m.jsxs)("div",{className:"row mb-5 shadow-sm p-4 rounded-3 ",children:[Object(m.jsx)("div",{className:"d-flex flex-row-reverse",children:Object(m.jsxs)("div",{className:"btn-group",children:[Object(m.jsxs)("button",{className:"btn btn-outline-primary",type:"button",children:["Edit ",Object(m.jsx)("i",{className:"bi bi-pencil-square"})]}),Object(m.jsxs)("button",{className:"btn btn-outline-danger",type:"button",onClick:Object(d.a)(u.a.mark((function e(){return u.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,n(c.product_id,t);case 2:a();case 3:case"end":return e.stop()}}),e)}))),children:["Delete ",Object(m.jsx)("i",{className:"bi bi-trash-fill"})]})]})}),Object(m.jsxs)("div",{className:"col",children:[!j.a.isEmpty(c)&&Object(m.jsxs)("div",{className:"row",children:[Object(m.jsx)("h1",{children:c.product_name}),Object(m.jsx)("p",{children:c.product_description})]}),Object(m.jsx)("h3",{children:"Cost Data"}),Object(m.jsxs)("div",{className:"row",children:[Object(m.jsxs)("div",{className:"col-12 col-md-3 col-sm-6",children:[Object(m.jsx)("label",{htmlFor:"exampleFormControlInput1",className:"form-label",children:"Yield Per Recipe"}),Object(m.jsxs)("div",{className:"input-group",children:[Object(m.jsx)("span",{className:"input-group-text",children:"#"}),Object(m.jsx)("input",{type:"number",className:"form-control text-center",id:"YPR",value:s,onChange:function(e){o(e.target.value),p()},onBlur:i})]})]}),Object(m.jsxs)("div",{className:"col-12 col-md-3 col-sm-6",children:[Object(m.jsx)("label",{htmlFor:"",className:"form-label",children:"Cost Per Unit"}),Object(m.jsxs)("div",{className:"input-group",children:[Object(m.jsx)("span",{className:"input-group-text",children:"$"}),Object(m.jsx)("input",{className:"form-control text-center ",type:"text",value:h,"aria-label":"Product Unit Cost",readOnly:!0,id:"ProductCost"})]})]}),Object(m.jsxs)("div",{className:"col-12 col-md-3 col-sm-6",children:[Object(m.jsx)("label",{htmlFor:"exampleFormControlInput1",className:"form-label",children:"Sales Price"}),Object(m.jsxs)("div",{className:"input-group",children:[Object(m.jsx)("span",{className:"input-group-text",children:"$"}),Object(m.jsx)("input",{type:"number",className:"form-control text-center",id:"salesPrice",step:"0.01",placeholder:"0.00",value:l,onChange:function(e){return b(e.target.value)},onBlur:function(){b(parseFloat(l).toFixed(2)),p()}})]})]}),Object(m.jsxs)("div",{className:"col-12 col-md-3 col-sm-6",children:[Object(m.jsx)("label",{htmlFor:"",className:"form-label",children:"Profit Per Unit"}),Object(m.jsxs)("div",{className:"input-group",children:[Object(m.jsx)("span",{className:"input-group-text ".concat(l-h>0?"bg-success":"bg-warning"),children:"$"}),Object(m.jsx)("input",{className:"form-control text-center",type:"text","aria-label":"Product Unit Cost",readOnly:!0,id:"ProductCost",value:isNaN(h)?"No Data":parseFloat(l-h).toFixed(2)})]})]})]}),Object(m.jsxs)("div",{className:"row",children:[Object(m.jsx)("div",{className:"col"}),Object(m.jsx)("div",{className:"col"})]})]})]}),!j.a.isEmpty(c)&&Object(m.jsx)(ve,{productID:c.product_id,setProductAverageCost:x,productYield:s})]})})},we=function(){var e=O(),t=e.token,a=e.logOut,n=T().addToast,c=Object(r.useState)({}),s=Object(b.a)(c,2),i=s[0],l=s[1],p=Object(r.useState)(""),h=Object(b.a)(p,2),x=h[0],f=h[1],v=Object(r.useState)(""),w=Object(b.a)(v,2),g=w[0],N=w[1],k=Object(r.useState)(""),S=Object(b.a)(k,2),E=S[0],D=S[1],_=Object(r.useState)([]),C=Object(b.a)(_,2),M=C[0],V=C[1],R=Object(r.useState)(""),q=Object(b.a)(R,2),L=q[0],H=q[1],Q=Object(r.useState)(""),J=Object(b.a)(Q,2),G=J[0],$=J[1],W=Object(o.f)(),K=function(){var e=Object(d.a)(u.a.mark((function e(){var r;return u.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,I(t);case 3:if(r=e.sent,!j.a.isEmpty(r)){e.next=6;break}return e.abrupt("return");case 6:V(r),l(r[0]),N(r[0].yield),H(r[0].price),e.next=16;break;case 12:e.prev=12,e.t0=e.catch(0),"401"===e.t0.message&&(a(),W("/")),n({title:" Database Error",type:"Error",body:e.t0.message});case 16:case"end":return e.stop()}}),e,null,[[0,12]])})));return function(){return e.apply(this,arguments)}}();Object(r.useEffect)((function(){j.a.isEmpty(t)||K()}),[t]);var X=function(){var e=Object(d.a)(u.a.mark((function e(a){var r;return u.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,a.preventDefault(),r={newProductName:x,newProductDescription:E},e.next=5,F(r,t);case 5:Z(),K(),n({title:"".concat(x," added!"),type:"Success",body:"Successfully added product"}),e.next=13;break;case 10:e.prev=10,e.t0=e.catch(0),n({title:" Database Error",type:"Error",body:e.t0.message});case 13:case"end":return e.stop()}}),e,null,[[0,10]])})));return function(t){return e.apply(this,arguments)}}(),Z=function(){f(""),D("")},ee=function(){var e=Object(d.a)(u.a.mark((function e(){var a,r;return u.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,a=i.product_id,r={productYield:g},e.next=5,B(a,r,t);case 5:e.next=10;break;case 7:e.prev=7,e.t0=e.catch(0),n({title:"Database error",type:"Error",body:e.t0.message});case 10:case"end":return e.stop()}}),e,null,[[0,7]])})));return function(){return e.apply(this,arguments)}}(),te=function(){var e=Object(d.a)(u.a.mark((function e(){var a,r;return u.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,a=i.product_id,r={productPrice:L},e.next=5,U(a,r,t);case 5:e.next=10;break;case 7:e.prev=7,e.t0=e.catch(0),n({title:"Database error",type:"Error",body:e.t0.message});case 10:case"end":return e.stop()}}),e,null,[[0,7]])})));return function(){return e.apply(this,arguments)}}();return Object(m.jsxs)(r.Fragment,{children:[Object(m.jsx)(y,{opacity:"nav-opaque"}),Object(m.jsx)(Y,{itemType:"Product",handleAddItem:X,newItemName:x,newItemDescription:E,setNewItemName:f,setNewItemDescription:D,clearEntry:Z}),Object(m.jsx)("div",{className:"container",children:Object(m.jsx)("div",{className:"row",children:Object(m.jsx)(P,{})})}),Object(m.jsx)("div",{className:"container-xxl mb-5",children:Object(m.jsxs)("div",{className:"row shadow rounded-3 bg-white",children:[Object(m.jsx)(z,{setDisplayedProduct:l,products:M,setProductYield:N,setProductPrice:H}),Object(m.jsx)(ye,{renderProducts:K,deleteProduct:A,displayedProduct:i,productYield:g,setProductYield:N,updateProductYield:ee,productPrice:L,setProductPrice:H,updateProductPrice:te,productAverageCost:G,setProductAverageCost:$})]})}),Object(m.jsx)("div",{className:"footer"})]})},ge="http://localhost:5000",Ne=function(){var e=Object(d.a)(u.a.mark((function e(t,a){var r;return u.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,fetch("".concat(ge,"/supplier/").concat(t),{method:"DELETE",headers:{Authorization:"Bearer ".concat(a)}});case 3:if((r=e.sent).ok){e.next=6;break}throw new Error(r.json());case 6:e.next=15;break;case 8:if(e.prev=8,e.t0=e.catch(0),!(e.t0.errorCode="23503")){e.next=14;break}throw new Error("Could not delete the supplier because it is referenced in an existing transaction");case 14:throw new Error("Something went wrong!");case 15:case"end":return e.stop()}}),e,null,[[0,8]])})));return function(t,a){return e.apply(this,arguments)}}(),ke=function(){var e=Object(d.a)(u.a.mark((function e(t,a){var r;return u.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,fetch("".concat(ge,"/supplier/new"),{method:"POST",headers:{"Content-Type":"application/json",Authorization:"Bearer ".concat(a)},body:JSON.stringify(t)});case 3:if((r=e.sent).ok){e.next=6;break}throw new Error(r.json());case 6:e.next=11;break;case 8:throw e.prev=8,e.t0=e.catch(0),new Error("Something went wrong");case 11:case"end":return e.stop()}}),e,null,[[0,8]])})));return function(t,a){return e.apply(this,arguments)}}(),Se=function(){var e=Object(d.a)(u.a.mark((function e(t,a,r){var n;return u.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,fetch("".concat(ge,"/supplier/edit/").concat(t),{method:"PUT",headers:{"Content-Type":"application/json",Authorization:"Bearer ".concat(r)},body:JSON.stringify(a)});case 3:if((n=e.sent).ok){e.next=6;break}throw new Error(n.json());case 6:e.next=11;break;case 8:throw e.prev=8,e.t0=e.catch(0),new Error(e.t0.errorCode);case 11:case"end":return e.stop()}}),e,null,[[0,8]])})));return function(t,a,r){return e.apply(this,arguments)}}(),Ee=function(){var e=O().token,t=T().addToast,a=Object(r.useState)([]),n=Object(b.a)(a,2),c=n[0],s=n[1],o=Object(r.useState)(""),i=Object(b.a)(o,2),l=i[0],p=i[1],h=Object(r.useState)(""),x=Object(b.a)(h,2),f=x[0],v=x[1],w=Object(r.useState)(""),g=Object(b.a)(w,2),N=g[0],k=g[1],S=Object(r.useState)(""),E=Object(b.a)(S,2),D=E[0],_=E[1],C=Object(r.useState)(""),M=Object(b.a)(C,2),V=M[0],F=M[1],I=Object(r.useState)(""),A=Object(b.a)(I,2),U=A[0],B=A[1],z=Object(r.useState)(""),Y=Object(b.a)(z,2),R=Y[0],H=Y[1],J=function(){var a=Object(d.a)(u.a.mark((function a(){var r;return u.a.wrap((function(a){for(;;)switch(a.prev=a.next){case 0:return a.prev=0,a.next=3,je(e);case 3:r=a.sent,s(r),a.next=10;break;case 7:a.prev=7,a.t0=a.catch(0),t({title:" Database Error",type:"Error",body:a.t0.message});case 10:case"end":return a.stop()}}),a,null,[[0,7]])})));return function(){return a.apply(this,arguments)}}(),G=function(){var a=Object(d.a)(u.a.mark((function a(){var r;return u.a.wrap((function(a){for(;;)switch(a.prev=a.next){case 0:return a.prev=0,r={newSupplierName:l,newSupplierContactName:f,newSupplierPhone:N},a.next=4,ke(r,e);case 4:Z(),J(),t({title:" Success",type:"Success",body:"Supplier added"}),a.next=12;break;case 9:a.prev=9,a.t0=a.catch(0),t({title:" Database Error",type:"Error",body:a.t0.message});case 12:case"end":return a.stop()}}),a,null,[[0,9]])})));return function(){return a.apply(this,arguments)}}(),W=function(){var a=Object(d.a)(u.a.mark((function a(r){var n;return u.a.wrap((function(a){for(;;)switch(a.prev=a.next){case 0:return a.prev=0,n={editSupplierName:V,editSupplierContactName:U,editSupplierPhone:R},a.next=4,Se(r,n,e);case 4:J(),t({title:" Success",type:"Success",body:"Supplier updated"}),a.next=11;break;case 8:a.prev=8,a.t0=a.catch(0),t({title:" Database Error",type:"Error",body:a.t0.message});case 11:case"end":return a.stop()}}),a,null,[[0,8]])})));return function(e){return a.apply(this,arguments)}}(),K=function(){var a=Object(d.a)(u.a.mark((function a(r){return u.a.wrap((function(a){for(;;)switch(a.prev=a.next){case 0:return a.prev=0,a.next=3,Ne(r,e);case 3:s(c.filter((function(e){return e.supplier_id!==r}))),J(),t({title:" Success",type:"Success",body:"Supplier deleted"}),a.next=11;break;case 8:a.prev=8,a.t0=a.catch(0),t({title:" Database Error",type:"Error",body:a.t0.message});case 11:case"end":return a.stop()}}),a,null,[[0,8]])})));return function(e){return a.apply(this,arguments)}}(),Z=function(){p(""),v(""),k("")},ee=function(){B(""),F(""),H("")};return Object(r.useEffect)((function(){J()}),[D]),Object(m.jsxs)(r.Fragment,{children:[Object(m.jsx)(y,{opacity:"nav-opaque"}),Object(m.jsx)("div",{className:"container",children:Object(m.jsx)("div",{className:"row",children:Object(m.jsx)(P,{})})}),Object(m.jsx)("div",{className:"container-xxl mb-5",children:Object(m.jsxs)("div",{className:"row shadow rounded-3 bg-white px-4",children:[Object(m.jsx)("h1",{className:"my-3",children:"Supplier Manager"}),Object(m.jsxs)("div",{className:"row row-cols-5 gx-1 mt-4",children:[Object(m.jsx)($,{display:"col-4",headerText:"Supplier Name"}),Object(m.jsx)($,{display:"col-3",headerText:"Contact Name"}),Object(m.jsx)($,{display:"col-3",headerText:"Contact Phone"}),Object(m.jsx)($,{display:"col-2",headerText:""})]}),Object(m.jsxs)("div",{className:"row row-cols-6 border-bottom py-2 mb-2 gx-2",children:[Object(m.jsx)(Q,{display:"col-4",type:"text",label:"Name",newValue:l,setNewValue:p,placeholder:"Supplier Name"}),Object(m.jsx)(Q,{display:"col-3",type:"text",label:"Contact",newValue:f,setNewValue:v,placeholder:"Contact Name"}),Object(m.jsx)(Q,{display:"col-3",label:"Tel",type:"tel",newValue:N,setNewValue:k,placeholder:"000-000-0000"}),Object(m.jsx)("div",{className:"col-2 text-center d-grid",children:Object(m.jsx)("button",{className:"btn btn-outline-primary",onClick:G,children:"Add"})})]}),!j.a.isEmpty(c)&&c.map((function(e){return e.supplier_id!==D?Object(m.jsxs)("div",{className:"row row-cols-5 border-bottom py-2 gx-2 highlight",children:[Object(m.jsx)(q,{display:"col-4",content:e.supplier_name}),Object(m.jsx)(q,{display:"col-3",content:e.contact_name}),Object(m.jsx)(q,{display:"col-3",content:e.supplier_phone}),Object(m.jsx)(L,{display:"col-2 text-center d-grid",ID:e.supplier_id,handleDeleteResource:K,setRowToEdit:_})]},e.supplier_id):Object(m.jsxs)("div",{className:"row row-cols-5 border-bottom py-2 mb-2 gx-2",children:[Object(m.jsx)(Q,{display:"col-4",type:"text",label:"Name",newValue:V,setNewValue:F,placeholder:"Supplier Name",currentState:e.supplier_name}),Object(m.jsx)(Q,{display:"col-3",type:"text",label:"Contact",newValue:U,setNewValue:B,placeholder:"Contact Name",currentState:e.contact_name}),Object(m.jsx)(Q,{display:"col-3",type:"tel",label:"Tel",newValue:R,setNewValue:H,placeholder:"000-000-0000",pattern:"[0-9]{3}-[0-9]{3}-[0-9]{4}",maxlength:10,minlength:10,currentState:e.supplier_phone}),Object(m.jsx)(X,{display:"col-2 d-grid",setRowToEdit:_,resourceID:e.supplier_id,editHandler:W,clearEdit:ee})]},e.supplier_id)}))]})})]})},Te="http://localhost:5000",De=function(){var e=Object(d.a)(u.a.mark((function e(t,a){var r;return u.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,fetch("".concat(Te,"/material/").concat(t),{method:"DELETE",headers:{Authorization:"Bearer ".concat(a)}});case 3:if((r=e.sent).ok){e.next=6;break}throw new Error(r.json());case 6:e.next=15;break;case 8:if(e.prev=8,e.t0=e.catch(0),!(e.t0.errorCode="23503")){e.next=14;break}throw new Error("Could not delete the material because it is referenced in an existing transaction");case 14:throw new Error("Something went wrong!");case 15:case"end":return e.stop()}}),e,null,[[0,8]])})));return function(t,a){return e.apply(this,arguments)}}(),_e=function(){var e=Object(d.a)(u.a.mark((function e(t,a,r){var n;return u.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,fetch("".concat(Te,"/material/edit/").concat(t),{method:"PUT",headers:{"Content-Type":"application/json",Authorization:"Bearer ".concat(r)},body:JSON.stringify(a)});case 3:if((n=e.sent).ok){e.next=6;break}throw new Error(n.json());case 6:e.next=12;break;case 8:throw e.prev=8,e.t0=e.catch(0),console.error(e.t0.message),new Error("Failed to edit material");case 12:case"end":return e.stop()}}),e,null,[[0,8]])})));return function(t,a,r){return e.apply(this,arguments)}}(),Ce=function(){var e=O().token,t=T().addToast,a=Object(r.useState)([]),n=Object(b.a)(a,2),c=n[0],s=n[1],o=Object(r.useState)(""),i=Object(b.a)(o,2),l=i[0],p=i[1],h=Object(r.useState)(""),x=Object(b.a)(h,2),f=x[0],v=x[1],w=Object(r.useState)(""),g=Object(b.a)(w,2),N=g[0],k=g[1],S=Object(r.useState)(""),E=Object(b.a)(S,2),D=E[0],_=E[1],C=Object(r.useState)(""),M=Object(b.a)(C,2),V=M[0],F=M[1],I=function(){_(""),F("")},A=function(){var t=Object(d.a)(u.a.mark((function t(a){var r;return u.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return r={editMaterialName:D,editMaterialDescription:V},t.next=3,_e(a,r,e);case 3:U();case 4:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}(),U=function(){var a=Object(d.a)(u.a.mark((function a(){var r;return u.a.wrap((function(a){for(;;)switch(a.prev=a.next){case 0:return a.prev=0,a.next=3,ie(e);case 3:r=a.sent,s(r),a.next=10;break;case 7:a.prev=7,a.t0=a.catch(0),t({title:"Failed to load materials",type:"Error",body:"Failed to edit material"});case 10:case"end":return a.stop()}}),a,null,[[0,7]])})));return function(){return a.apply(this,arguments)}}(),B=function(){var a=Object(d.a)(u.a.mark((function a(){var r;return u.a.wrap((function(a){for(;;)switch(a.prev=a.next){case 0:return a.prev=0,r={newMaterialName:l,newMaterialDescription:f},a.next=4,Oe(r,e);case 4:p(""),v(""),U(),t({title:" Success",type:"Success",body:"Successfully added material"}),a.next=12;break;case 9:a.prev=9,a.t0=a.catch(0),t({title:"Failed to add material",type:"Error",body:a.t0.message});case 12:case"end":return a.stop()}}),a,null,[[0,9]])})));return function(){return a.apply(this,arguments)}}(),z=function(){var a=Object(d.a)(u.a.mark((function a(r){return u.a.wrap((function(a){for(;;)switch(a.prev=a.next){case 0:return a.prev=0,a.next=3,De(r,e);case 3:s(c.filter((function(e){return e.material_id!==r}))),a.next=9;break;case 6:a.prev=6,a.t0=a.catch(0),t({title:"Failed to delete material",type:"Error",body:a.t0.message});case 9:case"end":return a.stop()}}),a,null,[[0,6]])})));return function(e){return a.apply(this,arguments)}}();return Object(r.useEffect)((function(){U()}),[N]),Object(m.jsxs)(r.Fragment,{children:[Object(m.jsx)(y,{opacity:"nav-opaque"}),Object(m.jsx)("div",{className:"container",children:Object(m.jsx)("div",{className:"row",children:Object(m.jsx)(P,{})})}),Object(m.jsx)("div",{className:"container-xxl mb-5",children:Object(m.jsxs)("div",{className:"row shadow rounded-3 bg-white px-4",children:[Object(m.jsx)("h1",{className:"my-3",children:"Material Manager"}),Object(m.jsxs)("div",{className:"row row-cols-5 gx-1 mt-4",children:[Object(m.jsx)($,{display:"col-5",headerText:"Material Name"}),Object(m.jsx)($,{display:"col-5",headerText:"Material Description"}),Object(m.jsx)($,{display:"col-2",headerText:""})]}),Object(m.jsxs)("div",{className:"row row-cols-3 border-bottom py-2 mb-2 gx-2",children:[Object(m.jsx)(Q,{display:"col-5",type:"text",label:"Name",newValue:l,setNewValue:p,placeholder:"Material Name"}),Object(m.jsx)(Q,{display:"col-5",type:"text",label:"Description",newValue:f,setNewValue:v,placeholder:"Description"}),Object(m.jsx)("div",{className:"col-2 text-center d-grid",children:Object(m.jsx)("button",{className:"btn btn-outline-primary",onClick:B,children:"Add"})})]}),!j.a.isEmpty(c)&&c.map((function(e){return e.material_id!==N?Object(m.jsxs)("div",{className:"row row-cols-3 border-bottom py-2 gx-2 highlight",children:[Object(m.jsx)(q,{display:"col-5",content:e.material_name}),Object(m.jsx)(q,{display:"col-5",content:e.material_description}),Object(m.jsx)(L,{display:"col-2 text-center d-grid",ID:e.material_id,handleDeleteResource:z,setRowToEdit:k})]},e.material_id):Object(m.jsxs)("div",{className:"row row-cols-5 border-bottom py-2 mb-2 gx-2",children:[Object(m.jsx)(Q,{display:"col-5",type:"text",label:"Name",newValue:D,setNewValue:_,placeholder:"Material Name",currentState:e.material_name}),Object(m.jsx)(Q,{display:"col-5",type:"text",label:"Description",newValue:V,setNewValue:F,placeholder:"Material Description",currentState:e.material_description}),Object(m.jsx)(X,{display:"col-2 d-grid",setRowToEdit:k,resourceID:e.material_id,editHandler:A,clearEdit:I})]},e.material_id)}))]})})]})},Pe=function(){var e=O().token,t=T().addToast,a=(new Date).toISOString().split("T")[0],n=Object(r.useState)([]),c=Object(b.a)(n,2),s=c[0],o=c[1],i=Object(r.useState)(""),l=Object(b.a)(i,2),p=l[0],h=l[1],x=Object(r.useState)(""),f=Object(b.a)(x,2),v=f[0],w=f[1],g=Object(r.useState)("1"),N=Object(b.a)(g,2),k=N[0],S=N[1],E=Object(r.useState)("0"),D=Object(b.a)(E,2),_=D[0],C=D[1],M=Object(r.useState)("0.00"),V=Object(b.a)(M,2),F=V[0],I=V[1],A=Object(r.useState)(a),U=Object(b.a)(A,2),B=U[0],z=U[1],Y=Object(r.useState)(""),R=Object(b.a)(Y,2),H=R[0],W=R[1],Z=Object(r.useState)(""),ne=Object(b.a)(Z,2),ce=ne[0],se=ne[1],oe=Object(r.useState)(""),le=Object(b.a)(oe,2),ue=le[0],de=le[1],be=Object(r.useState)(""),me=Object(b.a)(be,2),he=me[0],xe=me[1],Oe=Object(r.useState)(""),fe=Object(b.a)(Oe,2),ve=fe[0],ye=fe[1],we=Object(r.useState)(""),ge=Object(b.a)(we,2),Ne=ge[0],ke=ge[1],Se=Object(r.useState)([]),Ee=Object(b.a)(Se,2),Te=Ee[0],De=Ee[1],_e=Object(r.useState)([]),Ce=Object(b.a)(_e,2),Pe=Ce[0],Me=Ce[1],Ve=Object(r.useState)([]),Fe=Object(b.a)(Ve,2),Ie=Fe[0],Ae=Fe[1],Ue=Object(r.useState)(""),Be=Object(b.a)(Ue,2),ze=Be[0],Ye=Be[1],Re=function(){var a=Object(d.a)(u.a.mark((function a(){var r,n,c;return u.a.wrap((function(a){for(;;)switch(a.prev=a.next){case 0:return a.prev=0,a.next=3,ie(e);case 3:r=a.sent,De(r),!j.a.isEmpty(r)&&h(r[0].material_id),a.next=11;break;case 8:a.prev=8,a.t0=a.catch(0),t({title:" Database Error",type:"Error",body:a.t0.message});case 11:return a.prev=11,a.next=14,pe(e);case 14:n=a.sent,Me(n),a.next=21;break;case 18:a.prev=18,a.t1=a.catch(11),t({title:" Database Error",type:"Error",body:a.t1.message});case 21:return a.prev=21,a.next=24,je(e);case 24:c=a.sent,Ae(c),!j.a.isEmpty(c)&&w(c[0].supplier_id),a.next=32;break;case 29:a.prev=29,a.t2=a.catch(21),t({title:" Database Error",type:"Error",body:a.t2.message});case 32:case"end":return a.stop()}}),a,null,[[0,8],[11,18],[21,29]])})));return function(){return a.apply(this,arguments)}}(),qe=function(){var a=Object(d.a)(u.a.mark((function a(){var r;return u.a.wrap((function(a){for(;;)switch(a.prev=a.next){case 0:return a.prev=0,a.next=3,ee(e);case 3:r=a.sent,o(r),a.next=10;break;case 7:a.prev=7,a.t0=a.catch(0),t({title:" Database Error",type:"Error",body:a.t0.message});case 10:case"end":return a.stop()}}),a,null,[[0,7]])})));return function(){return a.apply(this,arguments)}}(),Le=function(){var a=Object(d.a)(u.a.mark((function a(){var r;return u.a.wrap((function(a){for(;;)switch(a.prev=a.next){case 0:return a.prev=0,r={newTransactionDate:B,newTransactionMaterial:p,newTransactionSupplier:v,newTransactionUnit:k,newTransactionCost:F,newTransactionQuantity:_},Ge(),a.next=5,ae(r,e);case 5:qe(),t({title:" Success",type:"Success",body:"Transaction added"}),a.next=12;break;case 9:a.prev=9,a.t0=a.catch(0),t({title:" Database Error",type:"Error",body:a.t0.message});case 12:case"end":return a.stop()}}),a,null,[[0,9]])})));return function(){return a.apply(this,arguments)}}(),He=function(){var a=Object(d.a)(u.a.mark((function a(r){var n;return u.a.wrap((function(a){for(;;)switch(a.prev=a.next){case 0:return a.prev=0,n={editTransactionMaterial:H,editTransactionSupplier:ce,editTransactionUnit:ue,editTransactionCost:ve,editTransactionQuantity:he,editTransactionDate:Ne},a.next=4,re(r,n,e);case 4:qe(),Je(),t({title:" Success",type:"Success",body:"Transaction updated"}),a.next=12;break;case 9:a.prev=9,a.t0=a.catch(0),t({title:" Database Error",type:"Error",body:a.t0.message});case 12:case"end":return a.stop()}}),a,null,[[0,9]])})));return function(e){return a.apply(this,arguments)}}(),Qe=function(){var a=Object(d.a)(u.a.mark((function a(r){return u.a.wrap((function(a){for(;;)switch(a.prev=a.next){case 0:return a.prev=0,a.next=3,te(r,e);case 3:o(s.filter((function(e){return e.transaction_id!==r}))),qe(),t({title:" Success",type:"Success",body:"Transaction deleted"}),a.next=11;break;case 8:a.prev=8,a.t0=a.catch(0),t({title:" Database Error",type:"Error",body:a.t0.message});case 11:case"end":return a.stop()}}),a,null,[[0,8]])})));return function(e){return a.apply(this,arguments)}}(),Je=function(){ye(""),ke(""),W(""),xe(""),se(""),de("")},Ge=function(){I("0.00"),z(a),h(""),C("0"),w(""),S("1")};return Object(r.useEffect)((function(){Re()}),[]),Object(r.useEffect)((function(){qe()}),[]),Object(m.jsxs)(r.Fragment,{children:[Object(m.jsx)(y,{opacity:"nav-opaque"}),Object(m.jsx)("div",{className:"container",children:Object(m.jsx)("div",{className:"row",children:Object(m.jsx)(P,{})})}),Object(m.jsx)("div",{className:"container-xxl mb-5",children:Object(m.jsxs)("div",{className:"row shadow rounded-3 bg-white px-4",children:[Object(m.jsx)("h1",{className:"my-3",children:"Transaction Manager"}),Object(m.jsxs)("div",{className:"row row-cols-7 gx-1 mt-4",children:[Object(m.jsx)($,{display:"col-2",headerText:"Transaction Date"}),Object(m.jsx)($,{display:"col-2",headerText:"Material"}),Object(m.jsx)($,{display:"col-2",headerText:"Supplier"}),Object(m.jsx)($,{display:"col-1",headerText:"Quantity"}),Object(m.jsx)($,{display:"col-2",headerText:"Unit"}),Object(m.jsx)($,{display:"col-1",headerText:"Total Cost"}),Object(m.jsx)($,{display:"col-2",headerText:""})]}),Object(m.jsxs)("div",{className:"row row-cols-6 border-bottom py-2 mb-2 gx-2",children:[Object(m.jsx)(Q,{display:"col-2",type:"date",label:"Date",newValue:B,setNewValue:z,placeholder:"Transaction Date"}),Object(m.jsx)(G,{display:"col-2",label:"Material",list:Te,itemkey:"material_name",id:"material_id",newValue:p,setNewValue:h}),Object(m.jsx)(G,{display:"col-2",label:"Supplier",list:Ie,itemkey:"supplier_name",id:"supplier_id",newValue:v,setNewValue:w}),Object(m.jsx)(Q,{display:"col-1",type:"number",label:"Quantity",min:0,newValue:_,setNewValue:C,placeholder:"0"}),Object(m.jsx)(G,{display:"col-2",label:"Unit",list:Pe,itemkey:"unit_name",id:"unit_id",currentState:1,newValue:k,setNewValue:S}),Object(m.jsx)(J,{display:"col-2",value:F,setter:I}),Object(m.jsx)("div",{className:"col-1 text-center d-grid",children:Object(m.jsx)("button",{className:"btn btn-outline-primary",onClick:Le,children:"Add"})})]}),!j.a.isEmpty(s)&&s.map((function(e){return e.transaction_id!==ze?Object(m.jsxs)("div",{className:"row row-cols-5 border-bottom py-2 gx-2 highlight",children:[Object(m.jsx)(q,{display:"col-2 text-center",content:K()(e.transaction_date).format("MMM D, YYYY")}),Object(m.jsx)(q,{display:"col-2 ",content:e.material_name}),Object(m.jsx)(q,{display:"col-2 ",content:e.supplier_name}),Object(m.jsx)(q,{display:"col-1 text-center",content:e.quantity}),Object(m.jsx)(q,{display:"col-2 text-center",content:e.unit_name}),Object(m.jsx)(q,{display:"col-2 text-center",content:e.cost}),Object(m.jsx)(L,{display:"col-1 d-grid",ID:e.transaction_id,handleDeleteResource:Qe,setRowToEdit:Ye})]},e.transaction_id):Object(m.jsxs)("div",{className:"row row-cols-6 border-bottom py-2 gx-2",children:[Object(m.jsx)(Q,{display:"col-2",type:"date",label:"Date",currentState:K()(e.transaction_date).format("YYYY-MM-DD"),newValue:Ne,setNewValue:ke,placeholder:"Transaction Name"}),Object(m.jsx)(G,{display:"col-2",label:"Material",list:Te,itemkey:"material_name",id:"material_id",currentState:e.material_id,newValue:H,setNewValue:W}),Object(m.jsx)(G,{display:"col-2",label:"Supplier",list:Ie,itemkey:"supplier_name",id:"supplier_id",currentState:e.supplier_id,newValue:ce,setNewValue:se}),Object(m.jsx)(Q,{display:"col-1",type:"number",label:"Quantity",min:0,currentState:e.quantity,newValue:he,setNewValue:xe,placeholder:"Qty"}),Object(m.jsx)(G,{display:"col-2",label:"Unit",list:Pe,itemkey:"unit_name",id:"unit_id",currentState:e.unit_id,newValue:ue,setNewValue:de}),Object(m.jsx)(J,{display:"col-2",currentState:e.cost,value:ve,setter:ye}),Object(m.jsx)(X,{display:"col-1 text-center d-grid",setRowToEdit:Ye,resourceID:e.transaction_id,editHandler:He,clearEdit:Je})]})}))]})})]})},Me=a(20),Ve=a(24),Fe=function(e){var t=T().toasts,a=Object(r.useState)(t),n=Object(b.a)(a,2),c=n[0],s=n[1];return Object(r.useEffect)((function(){s(t)}),[t]),Object(m.jsx)(m.Fragment,{children:Object(m.jsx)(Ve.a,{className:"p-3 z-super position-static",position:"bottom-end",children:c.map((function(e,t){return Object(m.jsxs)(Me.a,{autohide:!0,animation:"true",className:"fader",children:[Object(m.jsxs)(Me.a.Header,{closeButton:!1,children:["Success"===e.type?Object(m.jsx)("i",{className:"bi bi-hand-thumbs-up-fill text-success me-2",style:{fontSize:"1.2rem"}}):Object(m.jsx)("i",{className:"bi bi-exclamation-triangle-fill text-danger me-2",style:{fontSize:"1.2rem"}}),Object(m.jsxs)("strong",{className:"me-auto",children:[" ",e.title]}),Object(m.jsx)("small",{children:e.type})]}),Object(m.jsx)(Me.a.Body,{children:e.body})]},t)}))})})},Ie=(a(37),function(){return Object(m.jsxs)(m.Fragment,{children:[Object(m.jsx)(Fe,{}),Object(m.jsxs)(o.c,{children:[Object(m.jsx)(o.a,{path:"/",element:Object(m.jsx)(g,{})}),Object(m.jsx)(o.a,{path:"about",element:Object(m.jsx)(N,{})}),Object(m.jsx)(o.a,{path:"contact",element:Object(m.jsx)(k,{})}),Object(m.jsx)(o.a,{path:"signup",element:Object(m.jsx)(C,{})}),Object(m.jsx)(o.a,{path:"login",element:Object(m.jsx)(_,{})}),Object(m.jsx)(o.a,{path:"dashboard",element:Object(m.jsx)(we,{})}),Object(m.jsx)(o.a,{path:"suppliers",element:Object(m.jsx)(Ee,{})}),Object(m.jsx)(o.a,{path:"materials",element:Object(m.jsx)(Ce,{})}),Object(m.jsx)(o.a,{path:"transactions",element:Object(m.jsx)(Pe,{})})]})]})});s.a.render(Object(m.jsx)(i.a,{children:Object(m.jsx)(D,{children:Object(m.jsx)(f,{children:Object(m.jsx)(Ie,{})})})}),document.getElementById("root"))}},[[38,1,2]]]);
//# sourceMappingURL=main.25fd0b68.chunk.js.map